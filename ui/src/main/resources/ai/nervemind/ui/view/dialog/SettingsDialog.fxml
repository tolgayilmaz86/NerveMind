<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ButtonBar?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<HBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="ai.nervemind.ui.view.dialog.SettingsDialogController"
      spacing="0"
      prefWidth="900"
      prefHeight="650"
      styleClass="settings-dialog"
      stylesheets="@/ai/nervemind/ui/styles/variables.css, @/ai/nervemind/ui/styles/dialog.css">

    <!-- Category Sidebar -->
    <VBox styleClass="settings-dialog__sidebar" prefWidth="220" minWidth="200">
        <padding>
            <Insets top="10" right="0" bottom="10" left="0"/>
        </padding>

        <!-- Sidebar Header -->
        <Label text="Settings" styleClass="settings-dialog__sidebar-title">
            <padding>
                <Insets top="10" right="16" bottom="15" left="16"/>
            </padding>
        </Label>

        <ListView fx:id="categoryList" VBox.vgrow="ALWAYS" styleClass="settings-dialog__category-list"/>
    </VBox>

    <Separator orientation="VERTICAL"/>

    <!-- Content Area -->
    <VBox HBox.hgrow="ALWAYS" styleClass="settings-dialog__content-area">
        <!-- Category Header -->
        <HBox fx:id="categoryHeader" styleClass="settings-dialog__category-header" spacing="15" alignment="CENTER_LEFT">
            <padding>
                <Insets top="20" right="25" bottom="20" left="25"/>
            </padding>
            <FontIcon fx:id="categoryIcon" iconSize="32" styleClass="settings-dialog__category-icon"/>
            <VBox spacing="3">
                <Label fx:id="categoryTitle" styleClass="settings-dialog__category-title"/>
                <Label fx:id="categoryDescription" styleClass="settings-dialog__category-description"/>
            </VBox>
        </HBox>

        <Separator/>

        <!-- Settings Content -->
        <ScrollPane fx:id="settingsScrollPane" VBox.vgrow="ALWAYS" fitToWidth="true" styleClass="settings-dialog__scroll-pane">
            <VBox fx:id="settingsContainer" spacing="20" styleClass="settings-dialog__settings-container">
                <padding>
                    <Insets top="20" right="25" bottom="20" left="25"/>
                </padding>
                <!-- Settings will be dynamically added here -->
            </VBox>
        </ScrollPane>

        <Separator/>

        <!-- Footer -->
        <HBox styleClass="settings-dialog__footer" alignment="CENTER_RIGHT" spacing="10">
            <padding>
                <Insets top="15" right="25" bottom="15" left="25"/>
            </padding>

            <Button fx:id="resetButton" text="Reset to Defaults" styleClass="button-outlined" onAction="#onResetDefaults"/>

            <StackPane HBox.hgrow="ALWAYS"/>

            <ButtonBar>
                <buttons>
                    <Button fx:id="applyButton" text="Save Changes" styleClass="button-primary" onAction="#onApply" defaultButton="true"/>
                    <Button fx:id="cancelButton" text="Cancel" onAction="#onCancel" cancelButton="true"/>
                </buttons>
            </ButtonBar>
        </HBox>
    </VBox>
</HBox>
